{"version":3,"sources":["context/FileContext.js","root/Root.js","Loading/Loading.js","config.js","services/pet-service.js","Adopt/adopt.js","App/app.js","index.js"],"names":["fileContext","React","createContext","name","myPet","setName","Root","state","redirect","toggleRedirect","setState","handleSubmit","e","preventDefault","this","to","id","onSubmit","htmlFor","type","value","context","onChange","placeholder","Component","contextType","Loading","renderLoading","process","PetApiService","getCat","fetch","config","then","res","ok","json","Promise","reject","getDog","getLine","removeCat","method","removeDog","Adopt","myTurn","isLoading","error","queue","currentCat","currentDog","adoptCat","currQueue","shift","cat","console","log","adoptDog","setDog","setCat","dog","setLine","line","includes","push","interval","setInterval","Math","floor","random","catch","clearInterval","className","src","imageURL","alt","description","gender","age","breed","story","onClick","map","person","target","FileContext","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d80d3280.chunk.js","sourcesContent":["import React from 'react';\r\nconst fileContext = React.createContext({\r\n    name: '',\r\n    myPet: {},\r\n    setName: () => {},\r\n});\r\n\r\nexport default fileContext","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport fileContext from \"../context/FileContext\";\r\n\r\nexport default class Root extends React.Component {\r\n\r\n  state = {\r\n    redirect: false,\r\n  }\r\n\r\n  static contextType = fileContext;\r\n\r\n  toggleRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.toggleRedirect();\r\n  };\r\n\r\n  render() {\r\n    if(this.state.redirect) {\r\n      return <Redirect to=\"/adopt\"/>\r\n    }\r\n    return (\r\n      <div>\r\n        <h1>Petful</h1>\r\n        <p>\r\n          Welcome to our adorable adoption adventure! We are excited for you to\r\n          add a new fluffy member to your family!\r\n        </p>\r\n        <p>Here are the rules for our adoption process:</p>\r\n        <ol>\r\n          <li>You may select from either a dog or a cat</li>\r\n          <li>\r\n            We run strictly on a First In, First Out basis. So you may only\r\n            select the first cat or the first dog in line\r\n          </li>\r\n          <li>\r\n            We also operate on a queue based system for saving your spot in\r\n            line.\r\n          </li>\r\n          <li>\r\n            If you refresh this page, you will lose your spot in line and will have to start the adoption process over again.\r\n          </li>\r\n        </ol>\r\n        <p>\r\n          Whenever you are ready, enter your name down below, and get ready to\r\n          hop in line!\r\n        </p>\r\n        <form id=\"name_form\" onSubmit={this.handleSubmit}>\r\n          <label htmlFor=\"name_field\">Name: </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name_box\"\r\n            value={this.context.name}\r\n            id=\"name_box\"\r\n            onChange={e =>this.context.setName(e)}\r\n            placeholder=\"e.g. Jane Doe\"\r\n          />\r\n          <button type=\"submit\" id=\"submit_button\">\r\n            Begin!\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport fileContext from \"../context/FileContext\";\r\n\r\nexport default class Loading extends React.Component {\r\n  static contextType = fileContext;\r\n  renderLoading = () => {\r\n    return (\r\n      <div id=\"loading_section\">\r\n        <p id=\"loading_message\">Loading... please wait</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n      return (\r\n        <div id=\"loading_section\">\r\n        <p id=\"loading_message\">Loading... please wait</p>\r\n      </div>\r\n      )\r\n    // return <>{this.context.isLoading ? this.renderLoading() : \"\"}</>;\r\n  }\r\n}\r\n","export default {\r\n    API_ENDPOINT: process.env.REACT_APP_API_BASE || \"http://localhost:8000/api\"\r\n}","import config from \"../config\";\r\n\r\n\r\nconst PetApiService = {\r\n    getCat() {\r\n        return fetch(`${config.API_ENDPOINT}/pets/cat`).then((res) => \r\n        !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json());\r\n    },\r\n    getDog() {\r\n        return fetch(`${config.API_ENDPOINT}/pets/dog`).then((res) => \r\n        !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json());\r\n    },\r\n    getLine() {\r\n        return fetch(`${config.API_ENDPOINT}/people`).then((res) => \r\n        !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json());\r\n    },\r\n    removeCat() {\r\n        return fetch(`${config.API_ENDPOINT}/pets/cat`, {\r\n            method: \"DELETE\"\r\n        }).then((res) => (!res.ok ? res.json().then((e) => Promise.reject(e)) : 0));\r\n    },\r\n    removeDog() {\r\n        return fetch(`${config.API_ENDPOINT}/pets/dog`, {\r\n            method: \"DELETE\"\r\n        }).then((res) => (!res.ok ? res.json().then((e) => Promise.reject(e)) : 0));\r\n    }\r\n}\r\n\r\nexport default PetApiService;","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport fileContext from \"../context/FileContext\";\r\nimport \"./adopt.css\";\r\nimport Loading from \"../Loading/Loading\";\r\nimport PetApiService from \"../services/pet-service\";\r\nexport default class Adopt extends React.Component {\r\n  static contextType = fileContext;\r\n  state = {\r\n    redirect: false,\r\n    myTurn: false,\r\n    isLoading: false,\r\n    error: null,\r\n    queue: [\"John\", \"Jane\", \"Billy\"],\r\n    currentCat: {},\r\n    currentDog: {},\r\n  };\r\n  adoptCat = () => {\r\n    //make an api call to delete the cat, then delete person from queue\r\n    let currQueue = this.state.queue;\r\n    currQueue.shift();\r\n    PetApiService.removeCat()\r\n      .then(() => PetApiService.getCat())\r\n      .then((cat) => {\r\n        console.log(cat);\r\n        this.setState({\r\n          currentCat: cat,\r\n          queue: currQueue,\r\n        });\r\n      });\r\n  };\r\n  adoptDog = () => {\r\n    //make an api call to delete the dog from the queue, then delete person from client side queue\r\n    let currQueue = this.state.queue;\r\n    currQueue.shift();\r\n    PetApiService.removeDog()\r\n      .then(() => PetApiService.getDog())\r\n      .then(this.setDog);\r\n    this.setState({\r\n      queue: currQueue,\r\n    });\r\n  };\r\n  setCat = (cat) => {\r\n    this.setState({\r\n      currentCat: cat,\r\n    });\r\n  };\r\n  setDog = (dog) => {\r\n    this.setState({\r\n      currentDog: dog,\r\n      isLoading: false,\r\n    });\r\n  };\r\n  setLine = (line) => {\r\n    if (!line.includes(this.context.name)) {\r\n      line.push(this.context.name);\r\n    }\r\n    this.setState({\r\n      queue: line,\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    this.interval = setInterval(() => {\r\n      //If you are not next in line.  Flip a coin. 0 is heads, 1 is tails. Heads, the person selects a cat.  Tails the person selects a dog. Then we move the line and check again\r\n      if (this.state.queue[0] !== this.context.name) {\r\n        let coinFlip = Math.floor(Math.random() * 2);\r\n        coinFlip === 1 ? this.adoptDog() : this.adoptCat();\r\n      } else {\r\n        this.setState({\r\n          myTurn: true,\r\n        });\r\n      }\r\n    }, 5000);\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    PetApiService.getCat()\r\n      .then(this.setCat)\r\n      .then(PetApiService.getDog)\r\n      .then(this.setDog)\r\n      .then(PetApiService.getLine)\r\n      .then(this.setLine)\r\n      .catch((error) => this.setState({ error: error }));\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n  render() {\r\n    if (this.context.name === \"\") {\r\n      //prevent people from accessing this component without first getting in line\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    console.log(this.state.queue);\r\n    return (\r\n      <div className=\"Adoption_component\">\r\n        <h1 id=\"current_pets\">Current Pets</h1>\r\n        {this.state.isLoading && <Loading />}\r\n        <section id=\"adoption_box\">\r\n          <section id=\"pets_box\">\r\n            <section id=\"cat_box\">\r\n              <ul id=\"cat_info_list\">\r\n                <li className=\"cat_info\">\r\n                  <img\r\n                    id=\"cat_img\"\r\n                    src={this.state.currentCat.imageURL}\r\n                    alt={this.state.description}\r\n                  />\r\n                </li>\r\n                <li className=\"cat_info\" id=\"cat_name\">\r\n                  <strong>Name:</strong> {this.state.currentCat.name}\r\n                </li>\r\n                <li className=\"cat_info\" id=\"cat_gender\">\r\n                  <strong>Gender: </strong> {this.state.currentCat.gender}\r\n                </li>\r\n                <li className=\"cat_info\" id=\"cat_age\">\r\n                  <strong>Age: </strong> {this.state.currentCat.age}\r\n                </li>\r\n                <li className=\"cat_info\" id=\"cat_breed\">\r\n                  <strong>Breed: </strong> {this.state.currentCat.breed}\r\n                </li>\r\n                <li className=\"cat_info\" id=\"cat_age\">\r\n                  <strong>{this.state.currentCat.name}'s story: </strong>{\" \"}\r\n                  {this.state.currentCat.story}\r\n                </li>\r\n              </ul>\r\n              {this.state.myTurn ? (\r\n                <button onClick={this.adoptCat}>Adopt</button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </section>\r\n            <section id=\"dog_box\">\r\n              <ul id=\"dog_info_list\">\r\n                <li className=\"dog_info\">\r\n                  <img\r\n                    id=\"dog_img\"\r\n                    src={this.state.currentDog.imageURL}\r\n                    alt={this.state.description}\r\n                  />\r\n                </li>\r\n                <li className=\"dog_info\" id=\"dog_name\">\r\n                  <strong>Name:</strong> {this.state.currentDog.name}\r\n                </li>\r\n                <li className=\"dog_info\" id=\"dog_gender\">\r\n                  <strong>Gender: </strong> {this.state.currentDog.gender}\r\n                </li>\r\n                <li className=\"dog_info\" id=\"dog_age\">\r\n                  <strong>Age: </strong> {this.state.currentDog.age}\r\n                </li>\r\n                <li className=\"dog_info\" id=\"dog_breed\">\r\n                  <strong>Breed: </strong> {this.state.currentDog.breed}\r\n                </li>\r\n                <li className=\"dog_info\" id=\"dog_age\">\r\n                  <strong>{this.state.currentDog.name}'s story: </strong>{\" \"}\r\n                  {this.state.currentDog.story}\r\n                </li>\r\n              </ul>\r\n              {this.state.myTurn ? (\r\n                <button onClick={this.adoptDog}>Adopt</button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </section>\r\n          </section>\r\n        </section>\r\n        <h1 id=\"queue_header\">Current queue </h1>\r\n        <section className=\"queue_box\">\r\n          <ul className=\"queue_list\">\r\n            {this.state.myTurn ? (\r\n              <p>It's your turn! Select your new pet.</p>\r\n            ) : (\r\n              this.state.queue.map((person) => {\r\n                return <li className=\"person_in_line\">{person}</li>;\r\n              })\r\n            )}\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Root from \"../root/Root\";\r\nimport Adopt from \"../Adopt/adopt\";\r\nimport FileContext from \"../context/FileContext\";\r\n\r\nexport default class extends Component {\r\n  state = {\r\n    name: \"\",\r\n    // redirect: false,\r\n    myPet: {},\r\n  };\r\n  setName = (e) => {\r\n    this.setState({\r\n      name: e.target.value,\r\n    });\r\n  };\r\n//   toggleRedirect = () => {\r\n//       this.setState({\r\n//           redirect: !this.state.redirect\r\n//       })\r\n//   }\r\n  render() {\r\n    const value = {\r\n      name: this.state.name,\r\n      myPet: this.state.myPet,\r\n    //   redirect: this.state.redirect,\r\n      setName: this.setName,\r\n    //   toggleRedirect: this.toggleRedirect,\r\n    };\r\n    return (\r\n      <div className=\"App\">\r\n        <FileContext.Provider value={value}>\r\n            <Switch>\r\n                <Route exact path={\"/\"} component={Root} />\r\n                <Route exact path={\"/adopt\"} component={Adopt}/>\r\n            </Switch>\r\n        </FileContext.Provider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./index.css\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"../src/App/app\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}